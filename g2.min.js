function Class(t,s){return s&&(s.__proto__=t),{create:function(){var t=Object.create(this);return t.constructor.apply(t,arguments),t},__proto__:s||t}}function g2(){return this instanceof g2?this.constructor.apply(this,arguments):g2.apply(Object.create(g2.prototype),arguments)}Math.hypot=Math.hypot||function(t,s){return Math.sqrt(t*t+s*s)},g2.version="1.0.0",g2.transparent="rgba(0, 0, 0, 0)",g2.prototype.constructor=function t(s){return s&&(this.state=g2.State.create(),s.zoom&&this.zoom(s.zoom.scl,s.zoom.x,s.zoom.y),s.pan&&this.pan(s.pan.dx,s.pan.dy),s.trf&&this.trf(s.trf.x,s.trf.y,s.trf.scl),s.cartesian&&(this.state.cartesian=s.cartesian)),this.cmds=[{c:t.cmd,a:[this]}],this},g2.prototype.constructor.cmd=function(t){if("#000000"===this.fillStyle){var s=t.state||(t.state=g2.State.create());this.setTransform(1,0,0,s.cartesian?-1:1,.5,(s.cartesian?this.canvas.height:0)+.5),s.reset(this).set("trf",s.trf0,this),this.font=s.font}},g2.prototype.cartesian=function(){return(this.state||(this.state=g2.State.create())).cartesian=!0,this},g2.prototype.pan=function(t,s){return this.state=this.state||g2.State.create(),this.state.trf0.x+=t,this.state.trf0.y+=s,this},g2.prototype.zoom=function(t,s,e){return this.state=this.state||g2.State.create(),this.state.trf0.x=(1-t)*(s||0)+t*this.state.trf0.x,this.state.trf0.y=(1-t)*(e||0)+t*this.state.trf0.y,this.state.trf0.scl*=t,this},g2.prototype.trf=function(t,s,e){return this.state=this.state||g2.State.create(),this.state.trf0.x=t,this.state.trf0.y=s,this.state.trf0.scl=e,this},g2.prototype.pntToUsr=function(t,s,e){var i=this.state&&this.state.trf0||!1;return i?this.state.cartesian?{x:(t-i.x)/i.scl,y:-(s-(e-i.y))/i.scl}:{x:(t-i.x)/i.scl,y:(s-i.y)/i.scl}:{x:t,y:s}},g2.prototype.vecToUsr=function(t,s){var e=this.state&&this.state.trf0||!1;return e?this.state.cartesian?{x:t/e.scl,y:-s/e.scl}:{x:t/e.scl,y:s/e.scl}:{x:t,y:s}},g2.prototype._curPnt=function(){var t=this.cmds.length&&this.cmds[this.cmds.length-1]||!1;return t&&(t.cp||t.a)},g2.prototype.findCmdIdx=function(t){for(var s=this.cmds.length-1;s>0;s--)if(t(this.cmds[s],s,this.cmds))return s;return 0},g2.prototype.p=function(){return this.cmds.push({c:CanvasRenderingContext2D.prototype.beginPath}),this},g2.prototype.m=function(t,s){return this.cmds.push({c:CanvasRenderingContext2D.prototype.moveTo,a:[t,s]}),this},g2.prototype.l=function(t,s){return this.cmds.push({c:CanvasRenderingContext2D.prototype.lineTo,a:[t,s]}),this},g2.prototype.q=function(t,s,e,i){return this.cmds.push({c:CanvasRenderingContext2D.prototype.quadraticCurveTo,a:[t,s,e,i],cp:[e,i]}),this},g2.prototype.c=function(t,s,e,i,n,r){return this.cmds.push({c:CanvasRenderingContext2D.prototype.bezierCurveTo,a:[t,s,e,i,n,r],cp:[n,r]}),this},g2.prototype.a=function(t,s,e){var i=this._curPnt();if(i){var n=s-i[0],r=e-i[1],o=Math.tan(t/2),h=n/2-r/o/2,a=r/2+n/o/2,c=Math.atan2(-a,-h);this.cmds.push({c:CanvasRenderingContext2D.prototype.arc,a:[i[0]+h,i[1]+a,Math.hypot(h,a),c,c+t,0>t],cp:[s,e]})}return this},g2.prototype.z=function(){return this.cmds.push({c:CanvasRenderingContext2D.prototype.closePath}),this},g2.prototype.stroke=function(t){return this.cmds.push(t?{c:CanvasRenderingContext2D.prototype.stroke,a:[t]}:{c:CanvasRenderingContext2D.prototype.stroke}),this},g2.prototype.fill=function(t){return this.cmds.push(t?{c:CanvasRenderingContext2D.prototype.fill,a:[t]}:{c:CanvasRenderingContext2D.prototype.fill}),this},g2.prototype.drw=function s(t){return this.cmds.push(t?{c:s.cmd,a:[t]}:{c:s.cmd}),this},g2.prototype.drw.cmd=function(t){if(t?this.fill(t):this.fill(),this.fillStyle!==g2.transparent&&this.shadowColor!==g2.transparent){var s=this.shadowColor;this.shadowColor="transparent",t?this.stroke(t):this.stroke(),this.shadowColor=s}else t?this.stroke(t):this.stroke()},g2.prototype.txt=function e(t,s,i,n){return this.cmds.push({c:e.cmd,a:[this,t,s||0,i||0,n]}),this},g2.prototype.txt.cmd=function(t,s,e,i,n){var r=t.state,o=r.get("foc");(r.cartesian||o!==g2.transparent)&&this.save(),r.cartesian&&(this.scale(1,-1),i=-i),o!==g2.transparent?(this.fillStyle=o,this.fillText(s,e,i)):this.strokeText(s,e,i),(r.cartesian||o!==g2.transparent)&&this.restore()},g2.prototype.img=function i(t,s,e,n,r,o,h,a,c){var f=new Image,l=this.state?this.state:this.state=g2.State.create();return l.loading++,f.onload=function(){l.loading--},f.onerror=function(){f.src=g2.prototype.img.broken},f.src=t,this.cmds.push({c:i.cmd,a:[this,f,s||0,e||0,n,r,o,h,a,c]}),this},g2.prototype.img.cmd=function(t,s,e,i,n,r,o,h,a,c){n=n||s&&s.width,r=r||s&&s.height,t.state.cartesian&&(this.save(),this.scale(1,-1),i=-i-r),o||h||a||c?this.drawImage(s,o,h,a,c,e,i,n,r):this.drawImage(s,e,i,n,r),t.state.cartesian&&this.restore()},g2.prototype.img.broken="data:image/gif;base64,R0lGODlhHgAeAKIAAAAAmWZmmZnM/////8zMzGZmZgAAAAAAACwAAAAAHgAeAEADimi63P5ryAmEqHfqPRWfRQF+nEeeqImum0oJQxUThGaQ7hSs95ezvB4Q+BvihBSAclk6fgKiAkE0kE6RNqwkUBtMa1OpVlI0lsbmFjrdWbMH5Tdcu6wbf7J8YM9H4y0YAE0+dHVKIV0Efm5VGiEpY1A0UVMSBYtPGl1eNZhnEBGEck6jZ6WfoKmgCQA7",g2.prototype.lin=function n(t,s,e,i){return this.cmds.push({c:n.cmd,a:[t,s,e,i]}),this},g2.prototype.lin.cmd=function(t,s,e,i){this.beginPath(),this.moveTo(t,s),this.lineTo(e,i),this.stroke()},g2.prototype.rec=function r(t,s,e,i){return this.cmds.push({c:r.cmd,a:[t,s,e,i]}),this},g2.prototype.rec.cmd=function(t,s,e,i){this.beginPath(),this.rect(t,s,e,i),g2.prototype.drw.cmd.call(this)},g2.prototype.cir=function o(t,s,e){return this.cmds.push({c:o.cmd,a:[t,s,e]}),this},g2.prototype.cir.cmd=function(t,s,e){this.beginPath(),this.arc(t,s,e,0,2*Math.PI,!0),g2.prototype.drw.cmd.call(this)},g2.prototype.arc=function h(t,s,e,i,n){return this.cmds.push({c:h.cmd,a:[t,s,e,i,n]}),this},g2.prototype.arc.cmd=function(t,s,e,i,n){this.beginPath(),this.arc(t,s,e,i,i+n,0>n),this.stroke()},g2.prototype.ply=function a(t,s,e){var i=e&&(e.itr||e.fmt&&g2.prototype.ply.iterators[e.fmt])||!1;return this.cmds.push({c:a.cmd,a:[t,s,i]}),this},g2.prototype.ply.cmd=function(t,s,e){var i,n=0;if(e=e||g2.prototype.ply.itr,i=e(t,n++),!i.done){for(this.beginPath(),this.moveTo(i.x,i.y);!(i=e(t,n++)).done;)this.lineTo(i.x,i.y);s&&this.closePath()}return g2.prototype.drw.cmd.call(this),n-1},g2.prototype.ply.iterators={"x,y":function(t,s){return s<t.length/2?{x:t[2*s],y:t[2*s+1]}:{done:!0,count:t.length/2}},"[x,y]":function(t,s){return s<t.length?{x:t[s][0],y:t[s][1]}:{done:!0,count:t.length}},"{x,y}":function(t,s){return s<t.length?t[s]:{done:!0,count:t.length}}},g2.prototype.ply.itr=g2.prototype.ply.iterators["x,y"],g2.prototype.beg=function c(t,s,e,i){return this.cmds.push({c:c.cmd,a:arguments.length?[this,t||0,s||0,e||0,i||1]:[this],open:!0}),this},g2.prototype.beg.cmd=function(t,s,e,i,n){t.state.save(this),arguments.length>1&&t.state.set("trf",{x:s,y:e,w:i,scl:n},this)},g2.prototype.end=function f(){return this.cmds.push({c:f.cmd,a:[this,this.findCmdIdx(f.isBeg)]}),this},g2.prototype.end.cmd=function(t,s){t.state.restore(this)},g2.prototype.end.isBeg=function(t){return t.c===g2.prototype.beg.cmd&&t.open===!0?(delete t.open,!0):!1},g2.prototype.clr=function l(){return this.cmds.push({c:l.cmd}),this},g2.prototype.clr.cmd=function(){this.save(),this.setTransform(1,0,0,1,0,0),this.clearRect(0,0,this.canvas.width,this.canvas.height),this.restore()},g2.prototype.grid=function g(t,s){return this.state=this.state||g2.State.create(),this.state.gridBase=2,this.state.gridExp=1,this.cmds.push({c:g.cmd,a:[this,t,s]}),this},g2.prototype.grid.cmd=function(t,s,e){var i=t.state,n=i.get("trf"),r=i.cartesian,o=this.canvas.width,h=this.canvas.height,a=e||g2.prototype.grid.getSize(i,n?n.scl:1),c=n.x?n.x%a-a:0,f=n.y?n.y%a-a:0;this.save(),r?this.setTransform(1,0,0,-1,.5,h+.5):this.setTransform(1,0,0,1,.5,.5),this.strokeStyle=s||"#ccc",this.lineWidth=1,this.beginPath();for(var l=c,g=o+1;g>l;l+=a)this.moveTo(l,0),this.lineTo(l,h);for(var p=f,u=h+1;u>p;p+=a)this.moveTo(0,p),this.lineTo(o,p);this.stroke(),this.restore()},g2.prototype.grid.getSize=function(t,s){for(var e,i=t.gridBase||2,n=t.gridExp||1;(e=s*i*Math.pow(10,n))<14||e>35;)14>e?1==i?i=2:2==i?i=5:5==i&&(i=1,n++):1==i?(i=5,n--):2==i?i=1:5==i&&(i=2);return t.gridBase=i,t.gridExp=n,e},g2.prototype.use=function p(t,s,e,i,n){if("string"==typeof t&&(t=g2.symbol[t]),t&&t!==this){if(t.state&&t.state.loading){var r=this.state||(this.state=g2.State.create());r.loading++,t.state.addListener("load",function(){r.loading--})}this.cmds.push({c:p.cmd,a:1===arguments.length?[this,t]:[this,t,s,e,i,n]})}return this},g2.prototype.use.cmd=function(t,s,e,i,n,r){var o=t.state;o.save(this),arguments.length>2&&o.set("trf",{x:e||0,y:i||0,w:n||0,scl:r||1},this),t.exe(this,s),o.restore(this)},g2.prototype.style=function u(){if(arguments)if(arguments.length>1){for(var t={},s=0;s<arguments.length;s+=2)t[arguments[s]]=arguments[s+1];this.cmds.push({c:u.cmd,a:[this,t]})}else"object"==typeof arguments[0]&&this.cmds.push({c:u.cmd,a:[this,arguments[0]]});return this},g2.prototype.style.cmd=function(t,s){var e,i=t.state;for(var n in s)e=s[n],i.set(n,"string"==typeof e&&"@"===e[0]?i.get(e.substr(1),this):e,this)},g2.prototype.exe=function d(t,s){var e=(s||this).cmds;if(this.state&&this.state.loading)requestAnimationFrame(d.bind(this,t,s));else if(t&&e){var i=s&&s.state;s&&(s.state=this.state);for(var n,r=0,o=e.length;o>r;r++)(n=e[r]).c.apply(t,n.a);s?s.state=i:t.fillStyle="#000000"}return this},g2.prototype.cpy=function(t){return t!==this&&t.cmds.forEach(function(t,s){s&&this.cmds.push(t)},this),this},g2.prototype.del=function(){return this.cmds.length=1,this},g2.prototype.dump=function(t){function s(t){for(var e,i,n,r,o,h=[],a=0,c=t.cmds.length;c>a;a++){o=[],i=t.cmds[a],n=i.a;for(var f=0,l=n&&n.length||0;l>f;f++)"object"==typeof n[f]&&n[f]instanceof g2?n[f]!==t&&o.push(s(n[f])):void 0!==n[f]&&o.push(n[f]);r=/\W*function\s+([\w\$]+)\(/.exec(i.c.toString())[1],o.length?(e={},e[r]=o):e=r,h.push(e)}return h}return JSON.stringify(s(this),void 0,t)},g2.State=Class({constructor:function(){this.stack=[{}],this.trf0={x:0,y:0,w:0,scl:1},this._loading=0,this.on={load:[]}},get loading(){return this._loading},set loading(t){0===(this._loading=t)&&this.invokeListeners("load")},hasListeners:function(t){return this.on[t]&&this.on[t].length},hasListener:function(t,s){if(this.on[t])for(var e=0;e<this.on[t].length;e++)if(this.on[t][e]===s)return!0;return!1},addListener:function(t,s){this.hasListener(t,s)||this.on[t].push(s)},removeListener:function(t,s){if(this.on[t])for(var e=0;e<this.on[t].length;e++)if(this.on[t][e]===s){this.on[t].splice(e,1);break}},invokeListeners:function(t){if(this.on[t])for(var s=0;s<this.on[t].length;s++)this.on[t][s]()},has:function(t,s){return t=this.alias[t]||t,s&&this.filter[t]||t in this.stack[this.stack.length-1]||this.hasOwnProperty(t)},get:function(t,s){return t=this.alias[t]||t,s&&this.filter[t]&&this.filter[t].get&&this.filter[t].get.call(this,s)||this.stack[this.stack.length-1][t]||this[t]},set:function(t,s,e){return t=this.alias[t]||t,e&&this.filter[t]&&this.filter[t].set?this.filter[t].set.call(this,s,e):this.stack[this.stack.length-1][t]=s,this},save:function(t){return this.stack.push(JSON.parse(JSON.stringify(this.stack[this.stack.length-1]))),t&&t.save(),this},restore:function(t){return this.stack.pop(),t&&t.restore(),this},reset:function(t){return this.stack=[{}],this.loadfn=[],t.lineWidth=1,t.strokeStyle="#000",t.fillStyle=g2.transparent,t.setLineDash([]),this},transform:function(t,s){var e=this.stack[this.stack.length-1].trf||this.trf,i=t.w?Math.sin(t.w):0,n=t.w?Math.cos(t.w):1;return this.stack[this.stack.length-1].trf={x:t.scl*n*e.x-t.scl*i*e.y+t.x,y:t.scl*i*e.x+t.scl*n*e.y+t.y,w:e.w+t.w,scl:e.scl*t.scl},s.transform(t.scl*n,t.scl*i,-t.scl*i,t.scl*n,t.x,t.y),this},get currentScale(){return(this.stack[this.stack.length-1].trf||this.trf).scl},get font(){var t=this.get("fos"),s=this.get("fow"),e=this.get("foz"),i=this.get("fof"),n="";return t="normal"===t?"":t,s="normal"===s?"":s,"normal"!==t&&(n+=t+" "),"normal"!==s&&(n+=s+" "),n+=e+"px "+i}}),g2.State.fs=g2.transparent,g2.State.lm="normal",g2.State.foc="#000",g2.State.fos="normal",g2.State.fow="normal",g2.State.foz=12,g2.State.fof="serif",g2.State.trf={x:0,y:0,w:0,scl:1},g2.State.alias={strokeStyle:"ls",fillStyle:"fs",lineWidth:"lw",lineCap:"lc",lineJoin:"lj",lineDash:"ld",lineDashOffset:"lo",miterLimit:"ml",shadowOffsetX:"shx",shadowOffsetY:"shy",shadowBlur:"shb",shadowColor:"shc",fontColor:"foc",fontStyle:"fos",fontWeight:"fow",fontSize:"foz",fontFamily:"fof",textAlign:"thal",textBaseline:"tval",fontSizeNonScalable:"foznosc",lineWidthNonScalable:"lwnosc"},g2.State.filterProperty=function(t){return{get:function(s){return s[t]},set:function(s,e){e[t]=s}}},g2.State.filter={ls:{get:function(t){return t.strokeStyle},set:function(t,s){s.strokeStyle="transparent"===t?g2.transparent:t}},fs:{get:function(t){return t.fillStyle},set:function(t,s){s.fillStyle="transparent"===t?g2.transparent:t}},lw:{get:function(t){return t.lineWidth*(this.get("lwnosc")?this.currentScale:1)},set:function(t,s){s.lineWidth=t/(this.get("lwnosc")?this.currentScale:1)}},lc:g2.State.filterProperty("lineCap"),lj:g2.State.filterProperty("lineJoin"),ld:{get:function(t){if(t){for(var s=t.lineWidth,e=t.getLineDash(),i=0,n=e.length;n>i;i++)e[i]/=s;return e}return[]},set:function(t,s){if(s){for(var e=this.get("lwnosc")?this.currentScale:1,i=this.get("lw",s),n=[],r=0,o=t.length;o>r;r++)n.push(t[r]/e*i);s.setLineDash(n)}}},lo:{get:function(t){return t.lineDashOffset},set:function(t,s){s.lineDashOffset=t}},ml:g2.State.filterProperty("miterLimit"),shx:g2.State.filterProperty("shadowOffsetX"),shy:g2.State.filterProperty("shadowOffsetY"),shb:g2.State.filterProperty("shadowBlur"),shc:{get:function(t){return t.shadowColor},set:function(t,s){s.shadowColor="transparent"===t?g2.transparent:t}},thal:g2.State.filterProperty("textAlign"),tval:g2.State.filterProperty("textBaseline"),fos:{set:function(t,s){this.set("fos",t),s.font=this.font}},fow:{set:function(t,s){this.set("fow",t),s.font=this.font}},foz:{get:function(t){var s=this.get("foznosc")?this.currentScale:1;return this.get("foz")*s},set:function(t,s){var e=this.get("foznosc")?this.currentScale:1;this.set("foz",t/e),s.font=this.font}},fof:{set:function(t,s){this.set("fof",t),s&&(s.font=this.font)}},lwnosc:{set:function(t,s){if(t!==this.get("lwnosc")){var e=this.get("lw",s);this.set("lwnosc",t),this.set("lw",e,s)}}},foznosc:{set:function(t,s){if(t!==this.get("foznosc")){var e=this.get("foz");this.set("foznosc",t),this.set("foz",e,s)}}},trf:{set:function(t,s){var e,i,n,r=t.scl!==this.get("trf").scl;r&&(e=this.get("lw",s),i=this.get("ld",s),n=this.get("foz",s)),this.transform(t,s),r&&(this.set("lw",e,s),this.set("ld",i,s),this.set("foz",n,s))}}},g2.symbol=Object.create(null);