<!doctype html>
  <html class="theme-light">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, user-scalable=no">
  <meta name="description" content="g2.ext">
  <meta name="date" content="Mon Jun 01 2020 02:00:00 GMT+0200 (Central European Summer Time)">
  <meta name="keywords" content="">
  <title>g2.ext</title>
  <link rel="shortcut icon" type="image/png" href="./img/favicon.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.18.1/styles/vs2015.min.css">
  
  <link rel="stylesheet" href="./theme/styles.css">
  </head>
  <body id="top">
  <header>
  <a href="./index.html" class="right">g²</a>
  <a href="./g2.ext.html" class="left">Extension: g2.ext</a>
  <a href="https://github.com/goessner/g2"">
    <svg height="32" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"></path></svg>
  </a>
  </header>
  <main>
    <nav>
       <ul>
<li><a href="Getting-Started.html" data-href="Getting-Started.html">Getting started</a></li>
<li><a href="Concepts.html" data-href="Concepts.html">Concepts</a></li>
<li><a href="Paths.html" data-href="Paths.html">Paths</a></li>
<li><a href="Elements.html" data-href="Elements.html">Elements</a></li>
<li><a href="State-and-Style.html" data-href="State-and-Style.html">State and Style</a></li>
<li><a href="Reuse.html" data-href="Reuse.html">Reuse</a></li>
<li><a href="View.html" data-href="View.html">View</a></li>
<li><a href="Insert.html" data-href="Insert.html">Insert</a></li>
<li><a href="Animation.html" data-href="Animation.html">Animation</a></li>
<li><a href="Interactivity.html" data-href="Interactivity.html">Interactivity</a></li>
</ul>
<hr>
<ul>
<li><a href="g2.ext.html" data-href="g2.ext.html">Extension: g2.ext</a></li>
<li><a href="g2.mec.html" data-href="g2.mec.html">Extension: g2.mec</a></li>
<li><a href="g2.chart.html" data-href="g2.chart.html">Extension: g2.chart</a></li>
</ul>
<hr>
<ul>
<li><a href="api/g2.core" data-href="api/g2.core">API: g2.core</a></li>
<li><a href="api/g2.ext" data-href="api/g2.ext">API: g2.ext</a></li>
<li><a href="api/g2.mec" data-href="api/g2.mec">API: g2.mec</a></li>
<li><a href="api/g2.chart" data-href="api/g2.chart">API: g2.chart</a></li>
</ul>
<hr>
<ul>
<li><a href="tests.html" data-href="tests.html">Tests</a></li>
</ul>

    </nav>
    <article>
  <h1 id="g2extjs">g2.ext.js <a class="plnk" href="#g2extjs">#</a></h1>
<p><a href="https://github.com/goessner/g2/blob/master/docs/api/g2.ext.md" data-href="https://github.com/goessner/g2/blob/master/docs/api/g2.ext.md">See the API Reference</a></p>
<h3 id="g2-extension-for-expanded-functionality">g2 extension for expanded functionality <a class="plnk" href="#g2-extension-for-expanded-functionality">#</a></h3>
<p>g2.ext adds so functions which can be invoked on existing g2 elements, which is used in extensions like <code>label</code> and <code>mark</code>, aswell as in other extensions like <code>g2.mec.js</code>.</p>
<h4 id="get-length-of-line-in-label">get length of line in label <a class="plnk" href="#get-length-of-line-in-label">#</a></h4>
<pre><code class="code-line language-javascript"><div>    g2().view({<span class="hljs-attr">cartesian</span>:<span class="hljs-literal">true</span>})
        .lin({<span class="hljs-attr">x1</span>:<span class="hljs-number">10</span>,<span class="hljs-attr">y1</span>:<span class="hljs-number">10</span>,<span class="hljs-attr">x2</span>:<span class="hljs-number">90</span>,<span class="hljs-attr">y2</span>:<span class="hljs-number">90</span>,<span class="hljs-attr">ld</span>:[<span class="hljs-number">6</span>,<span class="hljs-number">3</span>]})
        .label({<span class="hljs-attr">str</span>:<span class="hljs-string">"@len"</span>,<span class="hljs-attr">off</span>:<span class="hljs-number">20</span>})
</div></code></pre>
<p><img src="./img/get-len.png" alt="label" class="loading" id="image-hash-9141d47d1bf4bbb2369af8f21d0add6154840531e6f810a5ba23df88af7de3a0"></p>
<p>How label works is shown further down on this page.</p>
<h3 id="splines">Splines <a class="plnk" href="#splines">#</a></h3>
<p>g2.ext.js introduces a new method which draws splines by points by
implementing a centripetal Catmull-Rom spline (thus avoiding cusps and self-intersections).</p>
<p>The <code>spline</code> command expects an object with a <code>pts</code> property analogous to the
<a href="https://github.com/goessner/g2/wiki/Elements#ply-element" data-href="https://github.com/goessner/g2/wiki/Elements#ply-element">ply</a> method from g2.js.
This property can have different formats, for each of which there must be provided an individual
array iterator. <em>g2</em> implements three standard iterators which need not be specified by last <code>itr</code> argument.</p>
<table>
<thead>
<tr>
<th>Property Format</th>
<th>comment</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{pts:[x1,y1,x2,y2,...,xn,yn]}</code></td>
<td>Flat array of <code>x</code> and <code>y</code> values [default].</td>
</tr>
<tr>
<td><code>{pts:[[x1,y1],[x2,y2],...,[xn,yn]]}</code></td>
<td>Array of arrays of <code>x</code> and <code>y</code> values.</td>
</tr>
<tr>
<td><code>{pts:[{x:x1,y:y1},{x:x2,y:y2},...,{x:xn,y:yn}]}</code></td>
<td>Array of objects with <code>x</code> and <code>y</code> members.</td>
</tr>
</tbody>
</table>
<p>Another property of <code>string</code> is <code>closed</code> which can have boolean values <code>true</code> and <code>false</code>, which are interpreted as closed flags (also analogous to <code>ply</code>).</p>
<pre><code class="code-line language-javascript"><div>g2().style({<span class="hljs-attr">ls</span>:<span class="hljs-string">"red"</span>,<span class="hljs-attr">lw</span>:<span class="hljs-number">3</span>,<span class="hljs-attr">fs</span>:<span class="hljs-string">"#ddd"</span>})
    .spline([<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">40</span>,<span class="hljs-number">70</span>,<span class="hljs-number">60</span>,<span class="hljs-number">30</span>,<span class="hljs-number">90</span>,<span class="hljs-number">80</span>])
    .spline([[<span class="hljs-number">110</span>,<span class="hljs-number">10</span>],[<span class="hljs-number">140</span>,<span class="hljs-number">70</span>],[<span class="hljs-number">160</span>,<span class="hljs-number">30</span>],[<span class="hljs-number">190</span>,<span class="hljs-number">80</span>]],<span class="hljs-literal">true</span>)
    .spline([{<span class="hljs-attr">x</span>:<span class="hljs-number">210</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">10</span>},{<span class="hljs-attr">x</span>:<span class="hljs-number">240</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">70</span>},{<span class="hljs-attr">x</span>:<span class="hljs-number">260</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">30</span>},{<span class="hljs-attr">x</span>:<span class="hljs-number">290</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">80</span>}],<span class="hljs-string">'split'</span>);
</div></code></pre>
<p><img src="img/splines.png" alt="splines" class="loading" id="image-hash-2930beaeac58e5619c5694d96c7c924982594b728fb1694bbc9ee0cfd5fbf5a7"></p>
<p>Other ressources on splines:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Cubic_Hermite_spline" data-href="https://en.wikipedia.org/wiki/Cubic_Hermite_spline">cubic hermite spline</a></li>
<li><a href="https://pomax.github.io/bezierinfo/" data-href="https://pomax.github.io/bezierinfo/">bézier curves</a></li>
</ul>
<h3 id="labels">Labels <a class="plnk" href="#labels">#</a></h3>
<p>If you want to add text to a geometric element, you can always use the basic <code>txt</code> element. However some
element types support the smarter <code>label</code> element, which comes with a more intuitive relative positioning with respect
to its nearest previous element. Reliable positioning requires always <em>cartesian</em> coordinates.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Element</th>
<th style="text-align:center">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>label({str,loc,off})</code></td>
<td style="text-align:center">Label element placing string <code>str</code> at location <code>loc</code> using offset <code>off</code>.</td>
</tr>
</tbody>
</table>
<p>Point like and rectangular elements provide locations according cardinal directions. Linear elements provide parameterized numerical
or named locations.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Type</th>
<th style="text-align:center">Elements</th>
<th style="text-align:center">default</th>
<th style="text-align:center">locations</th>
<th style="text-align:center">offset</th>
<th style="text-align:center">img</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Point elements</td>
<td style="text-align:center"><code>cir, use</code></td>
<td style="text-align:center"><code>c</code></td>
<td style="text-align:center"><code>c</code><br><code>e,ne,n,nw,w,sw,s,se</code><br>angle in [radians]</td>
<td style="text-align:center">number</td>
<td style="text-align:center"><img src="img/point-label.png" alt="img.point-label.mec" class="loading" id="image-hash-f05146120e2ee4f24c2b48570f8f4cb1b5dff688491ee52a2de9143bfa9b6dd1"></td>
</tr>
<tr>
<td style="text-align:center">Rectangular elements</td>
<td style="text-align:center"><code>rec, slider</code></td>
<td style="text-align:center"><code>c</code></td>
<td style="text-align:center"><code>c</code><br><code>e,ne,n,nw,w,sw,s,se</code></td>
<td style="text-align:center">number</td>
<td style="text-align:center"><img src="img/rec-label.png" alt="img.rec-label.mec" class="loading" id="image-hash-4f6cc9fcf4eca66851422fc54b18fe2b2e1a1a49fc0ead47f318057b46f4acb9"></td>
</tr>
<tr>
<td style="text-align:center">Linear elements</td>
<td style="text-align:center"><code>lin, vec, dim</code><br><code>arc, adim</code><br><code>spring, damper</code><br> <code>bar, bar2</code></td>
<td style="text-align:center"><code>0.5</code></td>
<td style="text-align:center"><code>beg, mid, end</code><br> normalized numerical parameter</td>
<td style="text-align:center"><code>left, right</code><br>number</td>
<td style="text-align:center"><img src="img/line-label.png" alt="line with labels" class="loading" id="image-hash-e0419d2a77c33c71382f2704b5950f1bdcb627aa4bbc6685b2ce3ffa51c0f32d"></td>
</tr>
<tr>
<td style="text-align:center">Polygonial elements</td>
<td style="text-align:center"><code>ply, ground</code><br><code>link, link2</code></td>
<td style="text-align:center"><code>0.5</code></td>
<td style="text-align:center"><code>beg, end</code><br> <code>#index</code> <br> normalized numerical parameter</td>
<td style="text-align:center"><code>left, right</code><br>number</td>
<td style="text-align:center"><img src="img/poly-label.mec.png" alt="polygon with labels" class="loading" id="image-hash-ffbee519734006e9b42a4fce5496082161cdd9e27ca56d687c6290fc7d58093a"></td>
</tr>
<tr>
<td style="text-align:center">Spline element</td>
<td style="text-align:center"><code>spline</code></td>
<td style="text-align:center"><code>beg</code></td>
<td style="text-align:center"><code>beg, end</code><br> <code>#index</code></td>
<td style="text-align:center"><code>left, right</code><br>number</td>
<td style="text-align:center"><img src="img/spline-label.png" alt="spline with labels" class="loading" id="image-hash-c407cecb0c8484512e9f06c74eb7de941fbc917f4e72b93c56b5eebfa92ac296"></td>
</tr>
</tbody>
</table>
<p>A numerical offset always means <em>outside</em> of closed shapes with regard to the specified point.
With linear, polygonial and spline elements a positive value means <em>right of</em> and a negativ value means <em>left of</em>
the line at the specified point. If there is no offset distance specified, the global <code>g2.State.labelOffset</code>'s value is taken. Please note, that cardinal locations are not sensitive to transformations.</p>
<h3 id="markers">Markers <a class="plnk" href="#markers">#</a></h3>
<p>Markers can be placed onto the outline of the previous element.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Element</th>
<th style="text-align:center">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>mark({mrk,loc})</code></td>
<td style="text-align:center">Marker element placing marker symbol <code>mrk</code> at locations <code>loc</code>.</td>
</tr>
</tbody>
</table>
<p>Elements with a unique center and rectangular elements provide locations according cardinal directions.
Linear elements provide parameterized numerical or named locations. The <code>spline</code> element only support indexed locations. It does not support parameterized locations.</p>
<p>Locations can also be passed as arrays, which makes it convenient for multiple marks with same <code>mrk</code> to be just passed in one calling of the mark method e.g <code>mark({mrk:&quot;tick&quot;,loc:[0,0.25,&quot;mid&quot;,0.9]})</code></p>
<table>
<thead>
<tr>
<th style="text-align:center">Type</th>
<th style="text-align:center">Elements</th>
<th style="text-align:center">default</th>
<th style="text-align:center">locations</th>
<th style="text-align:center">dir</th>
<th style="text-align:center">img</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Centered elements</td>
<td style="text-align:center"><code>cir</code></td>
<td style="text-align:center"><code>c</code></td>
<td style="text-align:center"><code>c</code><br><code>e,ne,n,nw,w,sw,s,se</code><br>normalized parameter</td>
<td style="text-align:center"><code>-1,0,1</code></td>
<td style="text-align:center"><img src="img/point-marker.png" alt="circular markers" class="loading" id="image-hash-3452666afaeb71f8876641a24594b7d69e1eccbf00a109a2297f0cb919356192"></td>
</tr>
<tr>
<td style="text-align:center">Rectangular elements</td>
<td style="text-align:center"><code>rec, slider</code></td>
<td style="text-align:center"><code>c</code></td>
<td style="text-align:center"><code>c</code><br><code>e,ne,n,nw,w,sw,s,se</code></td>
<td style="text-align:center"><code>-1,0,1</code></td>
<td style="text-align:center"><img src="img/rec-marker.png" alt="rectangular markers" class="loading" id="image-hash-fad1ccb443db58b52e0c2e133038ecbb3b8c1f16f692d374935d4e3ba9052906"></td>
</tr>
<tr>
<td style="text-align:center">Linear elements</td>
<td style="text-align:center"><code>lin, vec, dim</code><br><code>arc, avec, adim</code><br><code>spring, damper</code><br> <code>bar, bar2</code></td>
<td style="text-align:center"><code>0.5</code></td>
<td style="text-align:center"><code>beg, mid, end</code><br> normalized numerical parameter</td>
<td style="text-align:center"><code>-1,0,1</code></td>
<td style="text-align:center"><img src="img/lin-marker.png" alt="linear markers" class="loading" id="image-hash-64a01030e36b634badfc202e7fb75a00e59450e82f3cba33cb46e4e48ed2b292"></td>
</tr>
<tr>
<td style="text-align:center">Polygonial elements</td>
<td style="text-align:center"><code>ply, ground</code><br><code>link, link2</code></td>
<td style="text-align:center"><code>0.5</code></td>
<td style="text-align:center"><code>beg, end, mid, all</code><br> <code>#index</code> <br> normalized numerical parameter</td>
<td style="text-align:center"><code>-1,0,1</code></td>
<td style="text-align:center"><img src="img/poly-markers.png" alt="polygonial markers" class="loading" id="image-hash-2d9c95a769f1600a20bf125084cfc8ecea3e079a47afecf615ec9df0f5c4e83a"></td>
</tr>
<tr>
<td style="text-align:center">Spline element</td>
<td style="text-align:center"><code>spline</code></td>
<td style="text-align:center"><code>beg</code></td>
<td style="text-align:center"><code>beg, end, mid, all</code><br> <code>#index</code></td>
<td style="text-align:center"><code>-1,0,1</code></td>
<td style="text-align:center"><img src="img/spline-markers.png" alt="spline markers" class="loading" id="image-hash-735e026a9b69760b87d08edbe7c14ecc4585732349cf01419598d30e403d30df"></td>
</tr>
</tbody>
</table>

    </article>
  </main>
  <footer>
    <span class="left">&copy; goessner</span>
    <span class="center">powered by &mu;Jam &amp; VSCode &mdash; hosted by GitHub</span>
    <span class="right" onclick="document.documentElement.className = document.documentElement.className === 'theme-dark' ? 'theme-light' : 'theme-dark';">&#9788;</span>
  </footer>
  </body>
  </html>