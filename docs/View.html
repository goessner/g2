<!doctype html>
<html class="theme-dark">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1,user-scalable=no">
<meta name="description" content="View">
<meta name="date" content="Mon Jun 01 2020 02:00:00 GMT+0200 (Central European Summer Time)">
<meta name="keywords" content="">
<title>View</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.18.1/styles/github-gist.min.css">

<link rel="stylesheet" href="./theme/styles.css">
</head>
<body>
<header>
  <a href="./index.html" class="left">gÂ²</a>
  <a href="./tests.html" class="right">Tests</a>
</header>
<main>
<p><em>g2</em> has no limits. Think of a 2D coordinate system with infinite range in <em>x</em>- and <em>y</em>-direction.
This is our <em>user coordinate system</em> with coordinate values we have in mind.
Then we finally need to coincide this user coordinate system with some renderers coordinate
system - the <em>device coordinate system</em>.
That device viewport is usually rectangular and limited of course. Its coordinate origin lies in the viewports
upper left corner, is lefthanded with x-axis to the right and y-axis down and its
positive rotation is clockwise, as usual in computer graphics.</p>
<p><img src="img/origin.png" alt="origin" class="loading" id="image-hash-0637c52087c5f73b31ff35e3c71a7760d11ae5d50c589f4c9030606a21de5709"></p>
<p>So we want to displace the origin of our user coordinate system - named <em>View</em> - relative
to the renders rigid one. We also want to scale the user units, wich initially also coincide with the device units - think of pixels here.</p>
<p>The <code>view</code> method manipulates the current view state relevant for the next rendering process via the <code>exe()</code> command.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>view({scl,x,y,cartesian})</code></td>
<td>Implicitely set the <em>View</em> transformation uniformly by setting absolute scaling factor <code>scl</code> and origin at <code>x</code>,<code>y</code> in device units each. The <code>cartesian</code> property is boolean and switches the cartesian coordinate system mode on or off. The origin is placed initially in the viewport's lower left corner, x-axis right and y-axis up and positive rotation counterclockwise.</td>
</tr>
</tbody>
</table>
<p>This output is generated by the follwing code addressing different renderer contexts.</p>
<pre><code class="code-line language-javascript"><div>world = g2().view(worldview)
            .rec({<span class="hljs-attr">x</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">b</span>:<span class="hljs-number">200</span>,<span class="hljs-attr">h</span>:<span class="hljs-number">200</span>,<span class="hljs-attr">fs</span>:<span class="hljs-string">"skyblue"</span>})
            .ply({<span class="hljs-attr">pts</span>:[<span class="hljs-number">0</span>,<span class="hljs-number">100</span>,<span class="hljs-number">40</span>,...],<span class="hljs-attr">fs</span>:<span class="hljs-string">"burlywood"</span>})
            .rec({<span class="hljs-attr">x</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">b</span>:<span class="hljs-number">200</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">150</span>,<span class="hljs-attr">fs</span>:<span class="hljs-string">"limegreen"</span>}),

tree = g2().view(treeview)
           .rec({<span class="hljs-attr">x</span>:<span class="hljs-number">-5</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">b</span>:<span class="hljs-number">10</span>,<span class="hljs-attr">h</span>:<span class="hljs-number">40</span>,<span class="hljs-attr">fs</span>:<span class="hljs-string">"brown"</span>})
           .beg({<span class="hljs-attr">fs</span>:<span class="hljs-string">"forestgreen"</span>})
               .cir({<span class="hljs-attr">x</span>:<span class="hljs-number">15</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">-20</span>,<span class="hljs-attr">r</span>:<span class="hljs-number">10</span>})
               ...
               .cir({<span class="hljs-attr">x</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">-20</span>,<span class="hljs-attr">r</span>:<span class="hljs-number">20</span>,<span class="hljs-attr">ls</span>:<span class="hljs-string">"transparent"</span>})
           .end();

g2().use({<span class="hljs-attr">grp</span>:world,<span class="hljs-attr">x</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">0</span>})
    .use({<span class="hljs-attr">grp</span>:tree,<span class="hljs-attr">x</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">150</span>})
    .exe(ctx1)

g2().use({<span class="hljs-attr">grp</span>:world,<span class="hljs-attr">x</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">0</span>})
    .view({<span class="hljs-attr">x</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">-50</span>,<span class="hljs-attr">scl</span>:<span class="hljs-number">1.5</span>})
    .use({<span class="hljs-attr">grp</span>:tree,<span class="hljs-attr">x</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">150</span>})
    .exe(ctx2)

g2().view({<span class="hljs-attr">x</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">-50</span>,<span class="hljs-attr">scl</span>:<span class="hljs-number">1.5</span>})
    .use({<span class="hljs-attr">grp</span>:world,<span class="hljs-attr">x</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">0</span>})
    .use({<span class="hljs-attr">grp</span>:tree,<span class="hljs-attr">x</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">150</span>})
    .exe(ctx3)
</div></code></pre>
<p><img src="img/view-1.png" alt="view-1" class="loading" id="image-hash-66cc3981c5c1d2166edd159278a7c813cf52ae671df49d5e19f3ae4ef37ec204"> <img src="img/view-6.png" alt="view-2" class="loading" id="image-hash-4b0378b2e1eaed2a0c335c415a17adca8d671ae95e70b6ad9d40279fc465eea3"> <img src="img/view-7.png" alt="view-3" class="loading" id="image-hash-9f38482a9b29286b0f2ed2205ae978471566b5ecbd47a5806232a8d6486ddf40"></p>
<p>Remark that <code>view</code> could be omitted here and the same picture could be generated just with <code>use</code>. This is for demonstation purpose only.</p>
<p>Please note that <em>g2</em> does not support all <em>affine</em> view transformations. It allows <em>similarity
transformations</em> as <em>translation</em>, uniform <em>scaling</em> as well as <em>reflection</em> with respect to x-axis.
It does not support <em>nonuniform scaling</em>, <em>rotation</em> or <em>shearing</em> of its <em>View</em>.</p>

</main>
<footer>
  <span class="left">&copy; goessner</span>
  <span class="center">powered by &mu;JAM &amp; VSCode &mdash; hosted by GitHub</span>
  <span class="right" onclick="document.documentElement.className = document.documentElement.className === 'theme-dark' ? 'theme-light' : 'theme-dark';">&#9788;</span>
</footer>
</body>
</html>