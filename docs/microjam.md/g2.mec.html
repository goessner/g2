<!doctype html>
  <html class="theme-light">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, user-scalable=no">
  <meta name="description" content="g2.mec">
  <meta name="date" content="Mon Jun 01 2020 02:00:00 GMT+0200 (Central European Summer Time)">
  <meta name="keywords" content="">
  <title>g2.mec</title>
  <link rel="shortcut icon" type="image/png" href="../img/favicon.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.18.1/styles/vs2015.min.css">
  
  <link rel="stylesheet" href="../theme/styles.css">
  </head>
  <body id="top">
  <header>
  <a href="../index.html" class="right">gÂ²</a>
  <a href="../microjam.md/g2.mec.html" class="left">Extension: g2.mec</a>
  <a href="https://github.com/goessner/g2"">
    <svg height="32" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"></path></svg>
  </a>
  </header>
  <main>
    <nav>
       <ul>
<li><a href="../microjam.md/Getting-Started.html">Getting started</a></li>
<li><a href="../microjam.md/Concepts.html">Concepts</a></li>
<li><a href="../microjam.md/Paths.html">Paths</a></li>
<li><a href="../microjam.md/Elements.html">Elements</a></li>
<li><a href="../microjam.md/State-and-Style.html">State and Style</a></li>
<li><a href="../microjam.md/Reuse.html">Reuse</a></li>
<li><a href="../microjam.md/View.html">View</a></li>
<li><a href="../microjam.md/Insert.html">Insert</a></li>
<li><a href="../microjam.md/Animation.html">Animation</a></li>
<li><a href="../microjam.md/Interactivity.html">Interactivity</a></li>
<li><a href="../microjam.md/g2.html.html">Custom HTML element</a></li>
<li><a href="../microjam.md/g2.chart.html.html">Custom chart element</a></li>
</ul>
<hr>
<ul>
<li><a href="../microjam.md/g2.ext.html">Extension: g2.ext</a></li>
<li><a href="../microjam.md/g2.mec.html">Extension: g2.mec</a></li>
<li><a href="../microjam.md/g2.chart.html">Extension: g2.chart</a></li>
</ul>
<hr>
<ul>
<li><a href="../api/g2.core">API: g2.core</a></li>
<li><a href="../api/g2.ext">API: g2.ext</a></li>
<li><a href="../api/g2.mec">API: g2.mec</a></li>
<li><a href="../api/g2.chart">API: g2.chart</a></li>
</ul>
<hr>
<ul>
<li><a href="../tests.html">Tests</a></li>
</ul>

    </nav>
    <article>
  <p><a href="https://github.com/goessner/g2/blob/master/LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License" class="loading" id="image-hash-396856607"></a>
<a href="https://www.npmjs.com/package/g2d-mec"><img src="https://img.shields.io/npm/v/g2d-mec.svg" alt="npm" class="loading" id="image-hash-604123950"></a>
<a href="https://www.npmjs.com/package/g2d-mec"><img src="https://img.shields.io/npm/dt/g2d-mec.svg" alt="npm" class="loading" id="image-hash--1041160428"></a></p>
<h1 id="g2mecjs">g2.mec.js <a class="plnk" href="#g2mecjs">#</a></h1>
<p><a href="https://github.com/goessner/g2/blob/master/docs/api/g2.mec.md">See the API Reference</a></p>
<h2 id="g2-extension-for-mechanical-applications">g2 extension for mechanical applications <a class="plnk" href="#g2-extension-for-mechanical-applications">#</a></h2>
<p>Some of these elements use functions of <code>g2.ext</code>, so it is advisable to prepend <code>g2.ext</code> before using <code>g2.mec</code>.</p>
<h3 id="mechanical-elements">Mechanical Elements <a class="plnk" href="#mechanical-elements">#</a></h3>
<p><code>g2.mec.js</code> also provides some mechanical elements.</p>
<table>
<thead>
<tr>
<th>Element</th>
<th>Image</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>slider({x,y,w,b,h})</code></td>
<td><img src="../img/slider-def.png" alt="slider-def" class="loading" id="image-hash--1520276410"></td>
<td>Slider element by center coordinates <code>x, y</code> and rotation angle <code>w</code> with breadth <code>b</code> and height <code>w</code>.</td>
</tr>
<tr>
<td><code>spring({x1,y1,x2,y2})</code></td>
<td><img src="../img/spring-def.png" alt="spring-def" class="loading" id="image-hash--993457806"></td>
<td>Symbolical Spring element which starts at <code>x1, y1</code> and points to <code>x2, y2</code>.</td>
</tr>
<tr>
<td><code>damper({x1,y1,x2,y2})</code></td>
<td><img src="../img/damper-def.png" alt="damper-def" class="loading" id="image-hash-1128352498"></td>
<td>Symbolical Damper element which starts at <code>x1, y1</code> and points to <code>x2, y2</code>.</td>
</tr>
<tr>
<td><code>ground({pts,pos,h,closed})</code></td>
<td><img src="../img/ground-def.png" alt="ground-def" class="loading" id="image-hash-843040492"></td>
<td>Polygonial ground element by points array <code>pts</code>, <code>pos</code> for which side the ground is [<code>left, right</code>], <code>h</code> for width of the ground and closed flag <code>closed</code>[<code>true, false</code>] .</td>
</tr>
<tr>
<td><code>bar({x1,y1,x2,y2})</code></td>
<td><img src="../img/bar-def.png" alt="bar-def" class="loading" id="image-hash--1614091820"></td>
<td>Bar element which starts at <code>x1, y1</code> and points to <code>x2, y2</code>.</td>
</tr>
<tr>
<td><code>bar2({x1,y1,x2,y2})</code></td>
<td><img src="../img/bar2-def.png" alt="bar2-def" class="loading" id="image-hash--1176244124"></td>
<td>Alternate Bar2 element which starts at <code>x1, y1</code> and points to <code>x2, y2</code>.</td>
</tr>
<tr>
<td><code>link({pts})</code></td>
<td><img src="../img/link-def.png" alt="link-def" class="loading" id="image-hash--535761185"></td>
<td>Link element by points array <code>pts</code>, which is always <code>closed</code>.</td>
</tr>
<tr>
<td><code>link2({pts})</code></td>
<td><img src="../img/link2-def.png" alt="link2-def" class="loading" id="image-hash--2107732807"></td>
<td>Alternate Link2 element by points array <code>pts</code>, which is always <code>closed</code>.</td>
</tr>
<tr>
<td><code>beam({pts})</code></td>
<td><img src="../img/beam-def.png" alt="beam-def" class="loading" id="image-hash-6016404"></td>
<td>Beam element by points array <code>pts</code>, which is never <code>closed</code>.</td>
</tr>
<tr>
<td><code>beam2({pts})</code></td>
<td><img src="../img/beam2-def.png" alt="beam2-def" class="loading" id="image-hash-1802470564"></td>
<td>Alternate Beam2 element by points array <code>pts</code>, which is never <code>closed</code>.</td>
</tr>
<tr>
<td><code>load({pts,spacing,w})</code></td>
<td><img src="../img/load-3.png" alt="load-def" class="loading" id="image-hash--753445959"></td>
<td>Load element by points array <code>pts</code> and spacing <code>spacing</code> between vectors. Accepts styling for vectors.</td>
</tr>
<tr>
<td><code>pulley({x,y,r})</code></td>
<td><img src="../img/pulley-def.png" alt="pulley-def" class="loading" id="image-hash-779999518"></td>
<td>Pulley element by center point <code>x, y</code> and radius <code>r</code>.</td>
</tr>
<tr>
<td><code>pulley2({x,y,r})</code></td>
<td><img src="../img/pulley2-def.png" alt="pulley2-def" class="loading" id="image-hash-26143322"></td>
<td>Pulley2 element by position <code>x, y</code> including rotation angle <code>w</code> and radius <code>r</code>.</td>
</tr>
<tr>
<td><code>rope({x1,y1,r1,x2,y2,r2})</code></td>
<td><img src="../img/rope-def.png" alt="rope-def" class="loading" id="image-hash--91273257"></td>
<td>Rope element tangential to two circles with given center points <code>p1</code>[<code>{x, y}</code>] and <code>p2</code>[<code>{x, y}</code>] and radii <code>r1</code> and <code>r2</code>. You can switch between the four possible tangents by the sign of the radii.</td>
</tr>
</tbody>
</table>
<h3 id="truss-example">Truss Example <a class="plnk" href="#truss-example">#</a></h3>
<p>You can see a simple truss below, composed from mechanical symbols and elements.</p>
<p><img src="../img/truss.png" alt="img.truss.mec" class="loading" id="image-hash--2095224224"></p>
<pre><code class="code-line language-js"><div><span class="hljs-comment">// g2.mec truss example ...</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dxdy</span>(<span class="hljs-params">a,dx,dy</span>) </span>{
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">x1</span>: a.x, <span class="hljs-attr">y1</span>: a.y,
            <span class="hljs-attr">x2</span>: a.x + dx, <span class="hljs-attr">y2</span>: a.y + dy
        }
    }
    <span class="hljs-keyword">const</span> A = {<span class="hljs-attr">x</span>:<span class="hljs-number">50</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">50</span>},  B = {<span class="hljs-attr">x</span>:<span class="hljs-number">250</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">50</span>},
        C = {<span class="hljs-attr">x</span>:<span class="hljs-number">50</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">150</span>}, D = {<span class="hljs-attr">x</span>:<span class="hljs-number">150</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">150</span>},
        E = {<span class="hljs-attr">x</span>:<span class="hljs-number">50</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">250</span>},
        g = g2()
            .view({<span class="hljs-attr">cartesian</span>:<span class="hljs-literal">true</span>})
            .link2({<span class="hljs-attr">pts</span>:[A,B,E,A,D,C]})
            .vec({...dxdy(B,<span class="hljs-number">0</span>,<span class="hljs-number">-50</span>),<span class="hljs-attr">lw</span>:<span class="hljs-number">2</span>,<span class="hljs-attr">ls</span>:<span class="hljs-string">&quot;darkred&quot;</span>})
            .vec({...dxdy(D, <span class="hljs-number">80</span>,<span class="hljs-number">0</span>),<span class="hljs-attr">lw</span>:<span class="hljs-number">2</span>,<span class="hljs-attr">ls</span>:<span class="hljs-string">&quot;darkred&quot;</span>})
            .nodfix(A)
            .nod(B)
            .nod(C)
            .nod(D)
            .nodflt({...E, <span class="hljs-attr">w</span>:-<span class="hljs-built_in">Math</span>.PI/<span class="hljs-number">2</span>})
            .exe(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;c&quot;</span>).getContext(<span class="hljs-string">&quot;2d&quot;</span>));
</div></code></pre>
<h3 id="truss-example-with-labels">Truss Example with Labels <a class="plnk" href="#truss-example-with-labels">#</a></h3>
<p>The truss example above can now be improved by adding labels.</p>
<p><img src="../img/truss-labels.png" alt="truss with labels" class="loading" id="image-hash-199892194"></p>
<pre><code class="code-line language-javascript"><div>  <span class="hljs-comment">// g2.mec truss example with labels ...</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dxdy</span>(<span class="hljs-params">a,dx,dy</span>) </span>{
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">x1</span>: a.x, <span class="hljs-attr">y1</span>: a.y,
            <span class="hljs-attr">x2</span>: a.x + dx, <span class="hljs-attr">y2</span>: a.y + dy
        }
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">x1x2</span>(<span class="hljs-params">a,b</span>) </span>{
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">x1</span>: a.x, <span class="hljs-attr">y1</span>: a.y,
            <span class="hljs-attr">x2</span>: b.x, <span class="hljs-attr">y2</span>: b.y
        }
    }
    <span class="hljs-keyword">const</span> A = {<span class="hljs-attr">x</span>:<span class="hljs-number">50</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">50</span>}, B = {<span class="hljs-attr">x</span>:<span class="hljs-number">250</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">50</span>},
        C = {<span class="hljs-attr">x</span>:<span class="hljs-number">50</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">150</span>}, D = {<span class="hljs-attr">x</span>:<span class="hljs-number">150</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">150</span>},
        E = {<span class="hljs-attr">x</span>:<span class="hljs-number">50</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">250</span>},
        g = g2()
            .view({<span class="hljs-attr">cartesian</span>:<span class="hljs-literal">true</span>})
            .beg({<span class="hljs-attr">font</span>: <span class="hljs-string">&quot;italic 400 12px Unknown Font&quot;</span>})
            .bar2(x1x2(A,B)).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;1&quot;</span>,<span class="hljs-attr">off</span>:<span class="hljs-number">5</span>})
            .bar2(x1x2(A,C)).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;2&quot;</span>,<span class="hljs-attr">off</span>:<span class="hljs-number">5</span>})
            .bar2(x1x2(A,D)).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;3&quot;</span>,<span class="hljs-attr">off</span>:<span class="hljs-number">15</span>})
            .bar2(x1x2(B,D)).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;4&quot;</span>,<span class="hljs-attr">off</span>:<span class="hljs-number">15</span>})
            .bar2(x1x2(C,D)).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;5&quot;</span>,<span class="hljs-attr">off</span>:<span class="hljs-number">5</span>})
            .bar2(x1x2(C,E)).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;6&quot;</span>,<span class="hljs-attr">off</span>:<span class="hljs-number">5</span>})
            .bar2(x1x2(D,E)).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;7&quot;</span>,<span class="hljs-attr">off</span>:<span class="hljs-number">15</span>})
            .end()
            .vec({...dxdy(B,<span class="hljs-number">0</span>,<span class="hljs-number">-50</span>),<span class="hljs-attr">lw</span>:<span class="hljs-number">2</span>,<span class="hljs-attr">ls</span>:<span class="hljs-string">&quot;brown&quot;</span>}).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;F&quot;</span>,<span class="hljs-attr">loc</span>:<span class="hljs-number">0.5</span>})
            .vec({...dxdy(D,<span class="hljs-number">80</span>,<span class="hljs-number">0</span>),<span class="hljs-attr">lw</span>:<span class="hljs-number">2</span>,<span class="hljs-attr">ls</span>:<span class="hljs-string">&quot;brown&quot;</span>}).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;2F&quot;</span>,<span class="hljs-attr">loc</span>:<span class="hljs-string">&quot;end&quot;</span>})
            .nodfix(A).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;A&quot;</span>,<span class="hljs-attr">loc</span>:<span class="hljs-string">&quot;w&quot;</span>,<span class="hljs-attr">off</span>:<span class="hljs-number">5</span>})
            .nod(B).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;B&quot;</span>,<span class="hljs-attr">loc</span>:<span class="hljs-string">&quot;se&quot;</span>,<span class="hljs-attr">off</span>:<span class="hljs-number">15</span>})
            .nod(C).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;C&quot;</span>,<span class="hljs-attr">loc</span>:<span class="hljs-string">&quot;w&quot;</span>,<span class="hljs-attr">off</span>:<span class="hljs-number">5</span>})
            .nod(D).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;D&quot;</span>,<span class="hljs-attr">loc</span>:<span class="hljs-string">&quot;ne&quot;</span>,<span class="hljs-attr">off</span>:<span class="hljs-number">5</span>})
            .nodflt({...E, <span class="hljs-attr">w</span>:-<span class="hljs-built_in">Math</span>.PI/<span class="hljs-number">2</span>}).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;E&quot;</span>,<span class="hljs-attr">loc</span>:<span class="hljs-string">&quot;e&quot;</span>,<span class="hljs-attr">off</span>:<span class="hljs-number">5</span>})
            .dim(dxdy({<span class="hljs-attr">x</span>:A.x,<span class="hljs-attr">y</span>:<span class="hljs-number">275</span>},<span class="hljs-number">100</span>,<span class="hljs-number">0</span>)).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;b&quot;</span>})
            .dim(dxdy({<span class="hljs-attr">x</span>:D.x,<span class="hljs-attr">y</span>:<span class="hljs-number">275</span>},<span class="hljs-number">100</span>,<span class="hljs-number">0</span>)).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;b&quot;</span>})
            .dim(dxdy({<span class="hljs-attr">x</span>:<span class="hljs-number">275</span>,<span class="hljs-attr">y</span>:E.y},<span class="hljs-number">0</span>,<span class="hljs-number">-100</span>)).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;b&quot;</span>})
            .dim(dxdy({<span class="hljs-attr">x</span>:<span class="hljs-number">275</span>,<span class="hljs-attr">y</span>:D.y},<span class="hljs-number">0</span>,<span class="hljs-number">-100</span>)).label({<span class="hljs-attr">str</span>:<span class="hljs-string">&quot;b&quot;</span>})
            .exe(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;c&quot;</span>).getContext(<span class="hljs-string">&quot;2d&quot;</span>));
</div></code></pre>

    </article>
  </main>
  <footer>
    <span class="left">&copy; goessner</span>
    <span class="center">powered by &mu;Jam &amp; VSCode &mdash; hosted by GitHub</span>
    <span class="right" onclick="document.documentElement.className = document.documentElement.className === 'theme-dark' ? 'theme-light' : 'theme-dark';">&#9788;</span>
  </footer>
  </body>
  </html>