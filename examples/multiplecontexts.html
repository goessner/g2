<!doctype html>
<html>
<head>
    <meta charset='utf-8'>
    <title>g2 - Multiple graphics contexts</title>
    <style> canvas { border: 1px solid #000; } </style>
</head>

<body>
    <h1>g2 - Multiple graphics contexts</h1>
    <canvas id="c1" width="320" height="240"></canvas>
	<canvas id="c2" width="320" height="240"></canvas>
    <script src='../g2.js'></script>
    <script>
var canvas1 = document.getElementById("c1"),
    canvas2 = document.getElementById("c2"),
	ctx1 = canvas1.getContext("2d"),
	ctx2 = canvas2.getContext("2d"),
	g = g2();
	
g.grid()
 .style("lw",1.5,"ls","grey","ld",[10,3,1,3],"lwnosc",true)
 .lin(15,120,312,120)
 .style("lw",2,"ls","black","ld",[])
 .rec(40,60,50,120)
 .rec(90,90,3,60)
 .rec(93,100,50,40)
 .rec(143,105,4,30)
 .rec(147,101,135,38)
 .p().m(282,101).l(285,104).l(285,136).l(282,139)
 .stroke()
 .style("lw",1.5)
 .p().m(285,104).l(163,104).a(0.5,156,101)
 .m(285,136).l(163,136).a(-0.5,156,139)
 .stroke().exe(ctx1);
 
var g_zoom = g2().clr().grid().use(g).exe(ctx2);

canvas1.onmousemove = function(e){
	var x = canvas1.offsetLeft-e.clientX+canvas1.offsetWidth/2;
	var y = canvas1.offsetTop-e.clientY+canvas1.offsetHeight/2;
	g_zoom.trf0(x,y,1).zoom(3,canvas1.offsetWidth/2,canvas1.offsetHeight/2).exe(ctx2);
}
	
    </script>
</body>
</html>